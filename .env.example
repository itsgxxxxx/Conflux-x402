# ===== Facilitator =====
FACILITATOR_PRIVATE_KEY=0x...      # Facilitator wallet private key (needs CFX for gas)
FACILITATOR_PORT=4022

# ===== Authorization (Who can pay?) =====
# TWO MUTUALLY EXCLUSIVE STRATEGIES:
#
# Strategy 1: Identity-based (Production)
#   REQUIRE_IDENTITY=true
#   IDENTITY_REGISTRY_ADDRESS=0x...
#   ALLOWED_PAYER_ADDRESSES=   (must be empty)
#   → Only clients with registered on-chain identity can pay
#
# Strategy 2: Allowlist-based (Testing/Development)
#   REQUIRE_IDENTITY=false
#   ALLOWED_PAYER_ADDRESSES=0xabc,0xdef  (comma-separated)
#   → Only specified addresses can pay
#   → Leave empty to allow all addresses (UNSAFE for production)

REQUIRE_IDENTITY=false                    # true = identity gating, false = allowlist or open
ALLOWED_PAYER_ADDRESSES=0x...,0x...       # Only used when REQUIRE_IDENTITY=false
IDENTITY_REGISTRY_ADDRESS=0x...           # Required when REQUIRE_IDENTITY=true

# ===== Settlement (Execute on-chain transactions?) =====
VERIFY_ONLY_MODE=true                     # true = signature check only, false = real settlement

# ===== Safety Controls =====
MAX_PER_TRANSACTION=1.0             # Per-tx limit (USD)
MAX_DAILY_TOTAL=10.0                # Daily total limit (USD)
CIRCUIT_BREAKER_THRESHOLD=10        # Halt after N anomalies
GAS_BUFFER_PERCENT=50               # Gas estimate buffer % (Conflux needs ~50%)

# ===== Server =====
SERVER_PORT=4021
FACILITATOR_URL=http://localhost:4022
EVM_ADDRESS=0x...                   # payTo address (receives USDT0)
PAYMENT_ENABLED=true                # Global kill switch

# ===== Client =====
CLIENT_PRIVATE_KEY=0x...            # Payer wallet private key (needs USDT0 balance)
SERVER_URL=http://localhost:4021

# ===== Identity Gating Contracts =====
# Only needed when REQUIRE_IDENTITY=true
ZK_VERIFIER_ADDRESS=0x...           # ZKVerifier contract address (from deployment)

# ===== Attestor Service (Optional) =====
# Required if using identity gating
ATTESTOR_PRIVATE_KEY=0x...          # Attestor's private key for signing attestations
ATTESTOR_URL=http://localhost:3003  # Attestor service URL
PORT=3003                            # Attestor service port
DEFAULT_EXPIRY_SECONDS=2592000      # Identity expiry time (30 days)
MOCK_MODE=false                      # Skip HTTP verification (testing only)

