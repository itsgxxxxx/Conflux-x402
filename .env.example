# ===== Facilitator =====
FACILITATOR_PRIVATE_KEY=0x...      # Facilitator wallet private key (needs CFX for gas)
FACILITATOR_PORT=4022

# ===== Authorization Strategy =====
# THREE MUTUALLY EXCLUSIVE STRATEGIES:
#
# 1. Identity-based (Production):
#    REQUIRE_IDENTITY=true
#    IDENTITY_REGISTRY_ADDRESS=0x...
#    ALLOWED_PAYER_ADDRESSES=   (leave empty or omit)
#    → Checks on-chain identity registration via IdentityRegistry contract
#
# 2. Allowlist-based (Testing):
#    REQUIRE_IDENTITY=false
#    ALLOWED_PAYER_ADDRESSES=0xabc,0xdef  (comma-separated addresses)
#    → Only allows payments from specified addresses
#
# 3. No authorization (Development only):
#    REQUIRE_IDENTITY=false
#    ALLOWED_PAYER_ADDRESSES=  (leave empty)
#    → No authorization checks (UNSAFE for production)

REQUIRE_IDENTITY=false              # Set true to enable identity-based authorization
ALLOWED_PAYER_ADDRESSES=0x...,0x...  # Allowlist (comma-separated, only if REQUIRE_IDENTITY=false)

# ===== Safety Controls =====
VERIFY_ONLY_MODE=true               # Start with verify-only, set false after validation
MAX_PER_TRANSACTION=1.0             # Per-tx limit (USD)
MAX_DAILY_TOTAL=10.0                # Daily total limit (USD)
CIRCUIT_BREAKER_THRESHOLD=10        # Halt after N anomalies
GAS_BUFFER_PERCENT=50               # Gas estimate buffer % (Conflux needs ~50%)

# ===== Server =====
SERVER_PORT=4021
FACILITATOR_URL=http://localhost:4022
EVM_ADDRESS=0x...       # payTo address (receives USDT0)
PAYMENT_ENABLED=true                # Global kill switch

# ===== Client =====
CLIENT_PRIVATE_KEY=0x...            # Payer wallet private key (needs USDT0 balance)
SERVER_URL=http://localhost:4021

# ===== Identity Gating (Optional) =====
# Enable identity-based client authentication
REQUIRE_IDENTITY=false              # Set true to require registered identities
IDENTITY_REGISTRY_ADDRESS=0x...     # IdentityRegistry contract address (from deployment)
ZK_VERIFIER_ADDRESS=0x...           # ZKVerifier contract address (from deployment)

# ===== Attestor Service (Optional) =====
# Required if using identity gating
ATTESTOR_PRIVATE_KEY=0x...          # Attestor's private key for signing attestations
ATTESTOR_URL=http://localhost:3003  # Attestor service URL
PORT=3003                            # Attestor service port
DEFAULT_EXPIRY_SECONDS=2592000      # Identity expiry time (30 days)
MOCK_MODE=false                      # Skip HTTP verification (testing only)

